<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="BNB Chain Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="BNB Chain Documentation Atom Feed"><title data-react-helmet="true">Customized Scripts and Transfer Memo Validation | BNB Chain Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://github.com/RumeelHussainbnb/beta_BSC_Docs/docs/beaconchain/memo-validation"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Customized Scripts and Transfer Memo Validation | BNB Chain Documentation"><meta data-react-helmet="true" name="description" content="Memo Validation"><meta data-react-helmet="true" property="og:description" content="Memo Validation"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://github.com/RumeelHussainbnb/beta_BSC_Docs/docs/beaconchain/memo-validation"><link data-react-helmet="true" rel="alternate" href="https://github.com/RumeelHussainbnb/beta_BSC_Docs/docs/beaconchain/memo-validation" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://github.com/RumeelHussainbnb/beta_BSC_Docs/docs/beaconchain/memo-validation" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.caa713d3.css">
<link rel="preload" href="/assets/js/runtime~main.979497c6.js" as="script">
<link rel="preload" href="/assets/js/main.b8cd7843.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/image.png" alt="BNB" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/image.png" alt="BNB" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">BNB Chain Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Customized Scripts and Transfer Memo Validation</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="memo-validation">Memo Validation<a aria-hidden="true" class="hash-link" href="#memo-validation" title="Direct link to heading">​</a></h2><p>As explained in <a href="https://github.com/bnb-chain/BEPs/blob/master/BEP12.md" target="_blank" rel="noopener noreferrer">BEP12</a>, In some circumstances, users may want to specify additional functions or/and validations on some transactions. With BEP12, exchanges can reject deposits that have no valid digits-only memo.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="enable-account-scripts-for-cross-chain-transfer">Enable account scripts for cross-chain transfer<a aria-hidden="true" class="hash-link" href="#enable-account-scripts-for-cross-chain-transfer" title="Direct link to heading">​</a></h2><p><a href="https://github.com/bnb-chain/BEPs/blob/master/BEP12.md" target="_blank" rel="noopener noreferrer">BEP12</a> was introduced to check whether the memo field of any transfer transaction is empty. Since <a href="https://github.com/bnb-chain/node-binary/releases/tag/v0.8.2" target="_blank" rel="noopener noreferrer">version 0.8.2</a>, the memo of cross-chain transfer is also checked. From now on, the deposit transaction without memo to exchanges be returned automatically.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-is-a-customized-script">What is a customized script?<a aria-hidden="true" class="hash-link" href="#what-is-a-customized-script" title="Direct link to heading">​</a></h2><p>This script is aimed to ensure the transfer transactions have valid memo (if the receivers require this).
First, this script will check the following conditions:</p><p>The transaction type is sent.
The target address is the receiving address.
Then this script will ensure that the transaction memo is not empty and the memo only contains digital letters.</p><p>This is the pseudocode:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">func memoValiation(addr, tx) error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if tx.Type != “send” {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ! isReceiver(tx, addr) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if  tx.memo.length == 0 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return err(“tx memo is empty”)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if  tx.memo.length &gt; 100 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return err(“tx memo is too long”)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if !isAllDigital(tx.memo) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return err(“tx memo contains non digital character”)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="fee">Fee<a aria-hidden="true" class="hash-link" href="#fee" title="Direct link to heading">​</a></h3><p>1 BNB will be charged on enabling  memo validation of transactions.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="command-line">Command Line<a aria-hidden="true" class="hash-link" href="#command-line" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="global-parameters">Global Parameters<a aria-hidden="true" class="hash-link" href="#global-parameters" title="Direct link to heading">​</a></h3><table><thead><tr><th align="left"><strong>Field</strong></th><th align="left"><strong>Type</strong></th><th align="left"><strong>Description</strong></th></tr></thead><tbody><tr><td align="left">from</td><td align="left">string</td><td align="left">Name of your key.</td></tr><tr><td align="left">chain-id</td><td align="left">string</td><td align="left">Name of blockchain</td></tr><tr><td align="left">node</td><td align="left">string</td><td align="left">url of the node</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_y2LR" id="set-account-flags">Set-account-flags<a aria-hidden="true" class="hash-link" href="#set-account-flags" title="Direct link to heading">​</a></h3><p>This transaction is aimed to set account flags to any hex value.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="parameters">Parameters<a aria-hidden="true" class="hash-link" href="#parameters" title="Direct link to heading">​</a></h3><table><thead><tr><th align="left"><strong>Field</strong></th><th align="left"><strong>Type</strong></th><th align="left"><strong>Description</strong></th></tr></thead><tbody><tr><td align="left">account-flags</td><td align="left">string</td><td align="left">account flags, must be hex encoding string with prefix 0x</td></tr></tbody></table><ul><li>Example on mainnet:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./bnbcli token account_flags set-account-flags --from &lt;your-key-name&gt; --account-flags 0x01  --chain-id Binance-Chain-Tigris --node  https://dataseed5.defibit.io:443 --trust-node</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Example on testnet:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./tbnbcli token account_flags set-account-flags --from &lt;your-key-name&gt; --account-flags 0x01 --chain-id Binance-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.binance.org:80</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="enable-memo-checker">Enable-memo-checker<a aria-hidden="true" class="hash-link" href="#enable-memo-checker" title="Direct link to heading">​</a></h3><p>This transaction is aimed to aimed to enable transfer memo checker scripts.</p><ul><li>Example on mainnet:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./bnbcli account_flags enable-memo-checker --chain-id Binance-Chain-Tigris --node  https://dataseed5.defibit.io:443 --trust-node</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Example on testnet:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./tbnbcli account_flags enable-memo-checker --chain-id Binance-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.binance.org:80</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="disable-memo-checker">Disable-memo-checker<a aria-hidden="true" class="hash-link" href="#disable-memo-checker" title="Direct link to heading">​</a></h3><p>This transaction is aimed to disable transfer memo checker.</p><ul><li>Example on mainnet:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./bnbcli account_flag disable-memo-checker --chain-id Binance-Chain-Tigris --node  https://dataseed5.defibit.io:443 --trust-node</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Example on testnet:</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./tbnbcli account_flag disable-memo-checker --chain-id Binance-Chain-Ganges --trust-node --node http://data-seed-pre-0-s3.binance.org:80</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/RumeelHussainbnb/beta_BSC_Docs/blob/master/docs/docs/beaconchain/memo-validation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#memo-validation" class="table-of-contents__link toc-highlight">Memo Validation</a></li><li><a href="#enable-account-scripts-for-cross-chain-transfer" class="table-of-contents__link toc-highlight">Enable account scripts for cross-chain transfer</a></li><li><a href="#what-is-a-customized-script" class="table-of-contents__link toc-highlight">What is a customized script?</a><ul><li><a href="#fee" class="table-of-contents__link toc-highlight">Fee</a></li></ul></li><li><a href="#command-line" class="table-of-contents__link toc-highlight">Command Line</a><ul><li><a href="#global-parameters" class="table-of-contents__link toc-highlight">Global Parameters</a></li><li><a href="#set-account-flags" class="table-of-contents__link toc-highlight">Set-account-flags</a></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a></li><li><a href="#enable-memo-checker" class="table-of-contents__link toc-highlight">Enable-memo-checker</a></li><li><a href="#disable-memo-checker" class="table-of-contents__link toc-highlight">Disable-memo-checker</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/bnbIntro">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.buildnbuild.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>BuildnBuild Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.bnbchain.org/en/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/bnb-chain" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.com/invite/bnbchain" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/BNBCHAIN" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://t.me/BinanceDEXchange" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Build N Build.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.979497c6.js"></script>
<script src="/assets/js/main.b8cd7843.js"></script>
</body>
</html>